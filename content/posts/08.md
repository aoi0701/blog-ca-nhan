---
title: "Fetch API & HTTP trong JavaScript"
date: 2025-12-24
weight: 8
description: "T√¨m hi·ªÉu Fetch API v√† HTTP trong JavaScript: GET, POST, x·ª≠ l√Ω JSON, error handling v√† v√≠ d·ª• th·ª±c t·∫ø"
tags: ["JavaScript", "Fetch API", "HTTP", "Async/Await", "Frontend"]
categories: ["Blog"]
series: ["JavaScript & Web"]
draft: false
---


## 1. HTTP l√† g√¨? (nh·∫Øc nhanh)

**HTTP (HyperText Transfer Protocol)** l√† giao th·ª©c:

* Client (Browser) ‚Üî Server
* Request / Response

V√≠ d·ª•:

```
Browser ‚Üí HTTP Request ‚Üí Server
Browser ‚Üê HTTP Response ‚Üê Server
```

---

## 2. Fetch API l√† g√¨?

`fetch()` l√† API **c√≥ s·∫µn trong tr√¨nh duy·ªát**, d√πng ƒë·ªÉ:

* G·ªçi API
* L·∫•y d·ªØ li·ªáu t·ª´ server
* G·ª≠i d·ªØ li·ªáu l√™n server

üëâ Thay th·∫ø cho `XMLHttpRequest` (c≈©, kh√≥ d√πng).

---

## 3. C√∫ ph√°p fetch c∆° b·∫£n

```javascript
fetch(url)
  .then(res => res.json())
  .then(data => console.log(data));
```

Ho·∫∑c d√πng `async/await` (khuy·∫øn ngh·ªã):

```javascript
const res = await fetch(url);
const data = await res.json();
```

---

## 4. HTTP GET ‚Äì L·∫•y d·ªØ li·ªáu (r·∫•t hay d√πng)

### 4.1 V√≠ d·ª• GET ƒë∆°n gi·∫£n

```javascript
async function getPost() {
  const res = await fetch("https://jsonplaceholder.typicode.com/posts/1");
  const data = await res.json();
  console.log(data);
}

getPost();
```

---

### 4.2 Render d·ªØ li·ªáu ra HTML

```html
<div id="result"></div>
```

```javascript
async function loadPost() {
  const res = await fetch("https://jsonplaceholder.typicode.com/posts/1");
  const post = await res.json();

  document.getElementById("result").innerHTML = `
    <h3>${post.title}</h3>
    <p>${post.body}</p>
  `;
}

loadPost();
```

 **JS + DOM + Fetch** = Web App.

---

## 5. HTTP POST ‚Äì G·ª≠i d·ªØ li·ªáu l√™n server

### 5.1 POST JSON c∆° b·∫£n

```javascript
async function createPost() {
  const res = await fetch(
    "https://jsonplaceholder.typicode.com/posts",
    {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        title: "Hello",
        body: "This is a post",
        userId: 1
      })
    }
  );

  const data = await res.json();
  console.log(data);
}

createPost();
```

---

### 5.2 POST t·ª´ form

```html
<form id="postForm">
  <input id="title" placeholder="Title">
  <textarea id="body"></textarea>
  <button>Send</button>
</form>
```

```javascript
const form = document.getElementById("postForm");

form.addEventListener("submit", async (e) => {
  e.preventDefault();

  const title = document.getElementById("title").value;
  const body = document.getElementById("body").value;

  const res = await fetch("https://jsonplaceholder.typicode.com/posts", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ title, body })
  });

  const data = await res.json();
  console.log("Server tr·∫£ v·ªÅ:", data);
});
```

---

## 6. X·ª≠ l√Ω l·ªói khi g·ªçi API (R·∫§T QUAN TR·ªåNG)

### 6.1 Ki·ªÉm tra HTTP status

```javascript
async function loadData() {
  try {
    const res = await fetch("https://jsonplaceholder.typicode.com/abc");

    if (!res.ok) {
      throw new Error("HTTP error: " + res.status);
    }

    const data = await res.json();
    console.log(data);
  } catch (error) {
    console.error("C√≥ l·ªói:", error.message);
  }
}

loadData();
```

 `fetch` **kh√¥ng t·ª± reject** khi status 404/500.

---

## 7. GET nhi·ªÅu d·ªØ li·ªáu (render list)

```javascript
async function loadPosts() {
  const res = await fetch("https://jsonplaceholder.typicode.com/posts");
  const posts = await res.json();

  const ul = document.createElement("ul");

  posts.slice(0, 5).forEach(p => {
    const li = document.createElement("li");
    li.innerText = p.title;
    ul.appendChild(li);
  });

  document.body.appendChild(ul);
}

loadPosts();
```

---

## 8. C√°c method HTTP th∆∞·ªùng d√πng v·ªõi fetch

| Method | M·ª•c ƒë√≠ch    |
| ------ | ----------- |
| GET    | L·∫•y d·ªØ li·ªáu |
| POST   | T·∫°o m·ªõi     |
| PUT    | C·∫≠p nh·∫≠t    |
| DELETE | X√≥a         |

V√≠ d·ª• DELETE:

```javascript
fetch("https://jsonplaceholder.typicode.com/posts/1", {
  method: "DELETE"
});
```

---

## 9. Fetch vs Axios (so s√°nh nhanh)

| Fetch           | Axios          |
| --------------- | -------------- |
| C√≥ s·∫µn          | Th∆∞ vi·ªán ngo√†i |
| C√∫ ph√°p d√†i h∆°n | G·ªçn            |
| Kh√¥ng auto JSON | C√≥             |
| Ph·ªï bi·∫øn        | R·∫•t ph·ªï bi·∫øn   |

 **H·ªçc Fetch tr∆∞·ªõc**, Axios h·ªçc sau r·∫•t nhanh.

---

## 10. Li√™n h·ªá v·ªõi Java (ƒë·ªÉ d·ªÖ hi·ªÉu)

| Java              | JavaScript |
| ----------------- | ---------- |
| HttpURLConnection | fetch      |
| REST API          | fetch API  |
| ObjectMapper      | JSON.parse |

---

## 11. Sai l·∫ßm th∆∞·ªùng g·∫∑p

 Qu√™n `await res.json()`
 Kh√¥ng set `Content-Type` khi POST
 Kh√¥ng ki·ªÉm tra `res.ok`
 G·ªçi API trong v√≤ng l·∫∑p kh√¥ng c·∫ßn thi·∫øt

---

## 12. T·ªïng k·∫øt 

* Fetch API l√† **c√°ch chu·∫©n** ƒë·ªÉ g·ªçi server trong JS
* Ho·∫°t ƒë·ªông d·ª±a tr√™n **Promise**
* K·∫øt h·ª£p t·ªët v·ªõi `async/await`
* L√† n·ªÅn t·∫£ng c·ªßa:

  * Web App
  * SPA
  * Frontend Framework


