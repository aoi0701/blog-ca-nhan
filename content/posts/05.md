---
title: "InputStream, OutputStream và cách đọc ghi dữ liệu trong Java"
date: 2025-12-23
description: "Giải thích toàn diện hệ thống I/O Stream trong Java: InputStream, OutputStream, Reader, Writer, best practices và ví dụ thực tế"
tags: ["Java", "I/O", "Lập trình mạng"]
categories: ["Java Core"]
draft: false
---

![Minh họa Input Output Stream trong Java](../../images/03.jpg)



Trong quá trình học và làm việc với Java, có một mảng kiến thức **xuất hiện gần như ở mọi ứng dụng thực tế**, đó chính là **Input / Output (I/O)**.

Bất cứ khi nào chương trình Java cần:
- Đọc dữ liệu từ file
- Ghi dữ liệu ra file
- Nhận dữ liệu từ bàn phím
- Truyền dữ liệu qua mạng (TCP / UDP)
- Ghi log hệ thống

thì **I/O Stream** chính là nền tảng cốt lõi phía sau.

Việc hiểu rõ InputStream, OutputStream và cách đọc ghi dữ liệu giúp bạn:
- Viết code đúng chuẩn
- Tránh lỗi khó debug
- Làm tốt các bài lập trình mạng và client–server

---

## TL;DR – Tóm tắt nhanh cho người bận rộn

- InputStream / OutputStream xử lý **dữ liệu byte**
- Reader / Writer xử lý **dữ liệu văn bản**
- Dữ liệu được xử lý **tuần tự**
- Luôn đóng stream sau khi dùng
- Nên dùng Buffered để tăng hiệu năng
- I/O là nền tảng của lập trình mạng Java

---

## 1. Stream trong Java là gì?

Trong Java, **Stream** là một **luồng dữ liệu một chiều**, cho phép dữ liệu chảy từ **nguồn** đến **đích**.

Có hai hướng chính:
- **Input**: dữ liệu đi vào chương trình
- **Output**: dữ liệu đi ra khỏi chương trình

> Có thể hình dung Stream giống như **ống dẫn nước**:  
> nước chảy theo một chiều, từng phần, không thể quay ngược.

### Đặc điểm quan trọng của Stream

- Xử lý dữ liệu **tuần tự**
- Không truy cập ngẫu nhiên
- Có thể kết hợp nhiều stream lại với nhau
- Có thể đọc / ghi từng byte hoặc từng khối

---

## 2. Tổng quan hệ thống I/O Stream trong Java

Java tổ chức hệ thống I/O theo mô hình phân cấp rất rõ ràng.

### 2.1 Byte Stream – Xử lý dữ liệu nhị phân

Byte Stream làm việc với **dữ liệu dạng byte (8 bit)**.

Hai lớp gốc:
- `InputStream`
- `OutputStream`

Một số lớp con thường dùng:
- `FileInputStream`
- `FileOutputStream`
- `BufferedInputStream`
- `BufferedOutputStream`
- `DataInputStream`
- `ObjectInputStream`

Byte Stream phù hợp khi:
- Làm việc với file nhị phân
- Truyền dữ liệu qua Socket
- Xử lý ảnh, âm thanh

---

### 2.2 Character Stream – Xử lý dữ liệu văn bản

Character Stream làm việc với **ký tự Unicode**, xử lý tốt các ngôn ngữ khác nhau.

Hai lớp gốc:
- `Reader`
- `Writer`

Một số lớp thường dùng:
- `FileReader`
- `FileWriter`
- `BufferedReader`
- `BufferedWriter`
- `InputStreamReader`
- `OutputStreamWriter`

Character Stream phù hợp khi:
- Đọc / ghi file văn bản
- Xử lý chuỗi
- Làm việc với UTF-8

---

## 3. So sánh Byte Stream và Character Stream

| Tiêu chí | Byte Stream | Character Stream |
|--------|-------------|------------------|
| Kiểu dữ liệu | Byte | Ký tự |
| Encoding | Không | Có |
| Phù hợp | File nhị phân, mạng | Văn bản |
| Lớp gốc | InputStream | Reader |

---

## 4. Nguyên tắc quan trọng khi làm việc với I/O

### 4.1 Luôn đóng Stream

Nếu không đóng stream:
- File có thể bị khóa
- Bộ nhớ không được giải phóng
- Chương trình chạy chậm

Giải pháp tốt nhất là dùng **try-with-resources**.

```java
try (FileInputStream fis = new FileInputStream("demo.txt")) {
    // đọc dữ liệu
}
````

---

### 4.2 Dùng Buffered để tăng hiệu năng

Đọc từng byte trực tiếp từ file rất chậm khi file lớn.

```java
BufferedReader br = new BufferedReader(new FileReader("demo.txt"));
```

Buffered Stream giúp:

* Giảm số lần truy cập I/O
* Tăng tốc độ xử lý
* Code gọn hơn

---

### 4.3 Xử lý Exception đầy đủ

Hầu hết các thao tác I/O đều có thể phát sinh `IOException`.
Không xử lý exception sẽ khiến chương trình dễ bị crash.

---

## 5. Ví dụ đọc / ghi file cơ bản

### 5.1 Ghi file bằng FileOutputStream

```java
import java.io.FileOutputStream;
import java.io.IOException;
import java.nio.charset.StandardCharsets;

public class WriteFile {
    public static void main(String[] args) {
        String text = "Hello Java I/O Stream!";
        try (FileOutputStream fos = new FileOutputStream("demo.txt")) {
            fos.write(text.getBytes(StandardCharsets.UTF_8));
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

---

### 5.2 Đọc file bằng FileInputStream

```java
import java.io.FileInputStream;
import java.io.IOException;

public class ReadFile {
    public static void main(String[] args) {
        try (FileInputStream fis = new FileInputStream("demo.txt")) {
            int data;
            while ((data = fis.read()) != -1) {
                System.out.print((char) data);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

---

## 6. Các lỗi thường gặp khi học I/O

### 6.1 Dùng sai loại Stream

Dùng Byte Stream để đọc văn bản có thể gây lỗi encoding.
Giải pháp là dùng Reader / Writer.

---

### 6.2 Quên đóng Stream

Đây là lỗi rất phổ biến của người mới học Java.

---

### 6.3 Không dùng Buffered

Chương trình vẫn chạy nhưng hiệu năng kém.

---

## 7. Ứng dụng thực tế của I/O Stream

I/O Stream xuất hiện trong:

* Lập trình Socket TCP / UDP
* Truyền file qua mạng
* Ghi log server
* Ứng dụng Java Desktop
* Xử lý dữ liệu lớn

---



## 8. Tổng kết

* I/O Stream là kiến thức **bắt buộc** khi học Java
* Là nền tảng cho lập trình mạng
* Giúp viết chương trình ổn định và hiệu quả
* Hiểu rõ I/O giúp học các phần nâng cao dễ hơn

Trong các bài tiếp theo, kiến thức này sẽ được áp dụng vào:

* TCP Socket
* UDP Socket
* Client – Server Java




